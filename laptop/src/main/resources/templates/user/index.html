<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Trang chủ | Shop máy tính</title>
    <link th:href="@{/user-st/css/bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{/user-st/css/font-awesome.min.css}" rel="stylesheet">
    <link th:href="@{/user-st/css/prettyPhoto.css}" rel="stylesheet">
    <link th:href="@{/user-st/css/price-range.css}" rel="stylesheet">
    <link th:href="@{/user-st/css/animate.css}" rel="stylesheet">
    <link th:href="@{/user-st/css/main.css}" rel="stylesheet">
    <link th:href="@{/user-st/css/responsive.css}" rel="stylesheet">
    <!--[if lt IE 9]>
    <script th:src="@{/user-st/js/html5shiv.js}"></script>
    <script th:src="@{/user-st/js/respond.min.js}"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css">
    <script type="text/javascript" src="https://code.jquery.com/jquery-latest.pack.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
</head>
<!--/head-->

<body>
<!--/header-->
<div th:replace="~{common/header :: headers}"></div>
<!--/header-->

<section id="slider">
    <!--slider-->
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div id="slider-carousel" class="carousel slide" data-ride="carousel">
                    <ol class="carousel-indicators">
                        <li data-target="#slider-carousel" data-slide-to="0" class="active"></li>
                        <li data-target="#slider-carousel" data-slide-to="1"></li>
                        <li data-target="#slider-carousel" data-slide-to="2"></li>
                    </ol>

                    <div class="carousel-inner">
                        <div class="item active">
                            <div class="col-sm-12">
                                <img class="img--banner"
                                     th:src="@{/user-st/images/home/gram-14z90p-w-01-lg-gram-14.jpg}"
                                     alt=""/>
                            </div>
                        </div>
                        <div class="item">
                            <div class="col-sm-12">
                                <img class="img--banner" th:src="@{/user-st/images/home/maxresdefault.jpg}"
                                     alt=""/>
                            </div>
                        </div>

                        <div class="item">
                            <div class="col-sm-12">
                                <img class="img--banner"
                                     th:src="@{/user-st/images/home/asus-proart-studiobook-lineup.jpg}" alt=""/>
                            </div>
                        </div>
                    </div>

                    <a href="#slider-carousel" class="left control-carousel hidden-xs" data-slide="prev">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a href="#slider-carousel" class="right control-carousel hidden-xs" data-slide="next">
                        <i class="fa fa-angle-right"></i>
                    </a>
                </div>

            </div>
        </div>
    </div>
</section>
<!--/slider-->

<section>
    <div class="container">
        <div class="row">
            <div class="col-sm-2">
                <div class="left-sidebar">
                    <h2>Danh mục</h2>
                    <div class="panel-group category-products" id="accordian">
                        <!--category-productsr-->
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a data-toggle="collapse" data-parent="#accordian" href="#sportswear">
                                        <span class="badge pull-right"><i class="fa fa-plus"></i></span>
                                        Laptop
                                    </a>
                                </h4>
                            </div>
                            <div id="sportswear" class="panel-collapse collapse">
                                <div class="panel-body">
                                    <ul>
                                        <li><a href="#">Dell </a></li>
                                        <li><a href="#">Asus </a></li>
                                        <li><a href="#">MSI </a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a data-toggle="collapse" data-parent="#accordian" href="#mens">
                                        <span class="badge pull-right"><i class="fa fa-plus"></i></span>
                                        Mens
                                    </a>
                                </h4>
                            </div>
                            <div id="mens" class="panel-collapse collapse">
                                <div class="panel-body">
                                    <ul>
                                        <li><a href="#">Fendi</a></li>
                                        <li><a href="#">Guess</a></li>
                                        <li><a href="#">Valentino</a></li>
                                        <li><a href="#">Dior</a></li>
                                        <li><a href="#">Versace</a></li>
                                        <li><a href="#">Armani</a></li>
                                        <li><a href="#">Prada</a></li>
                                        <li><a href="#">Dolce and Gabbana</a></li>
                                        <li><a href="#">Chanel</a></li>
                                        <li><a href="#">Gucci</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a data-toggle="collapse" data-parent="#accordian" href="#womens">
                                        <span class="badge pull-right"><i class="fa fa-plus"></i></span>
                                        Womens
                                    </a>
                                </h4>
                            </div>
                            <div id="womens" class="panel-collapse collapse">
                                <div class="panel-body">
                                    <ul>
                                        <li><a href="#">Fendi</a></li>
                                        <li><a href="#">Guess</a></li>
                                        <li><a href="#">Valentino</a></li>
                                        <li><a href="#">Dior</a></li>
                                        <li><a href="#">Versace</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title"><a href="#">Kids</a></h4>
                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title"><a href="#">Fashion</a></h4>
                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title"><a href="#">Households</a></h4>
                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title"><a href="#">Interiors</a></h4>
                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title"><a href="#">Clothing</a></h4>
                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title"><a href="#">Bags</a></h4>
                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title"><a href="#">Shoes</a></h4>
                            </div>
                        </div>
                    </div>
                    <!--/category-products-->

                    <div class="brands_products">
                        <!--brands_products-->
                        <h2>Brands</h2>
                        <div class="brands-name">
                            <ul class="nav nav-pills nav-stacked">
                                <li><a href="#"> <span class="pull-right">(50)</span>Acne</a></li>
                                <li><a href="#"> <span class="pull-right">(56)</span>Grüne Erde</a></li>
                                <li><a href="#"> <span class="pull-right">(27)</span>Albiro</a></li>
                                <li><a href="#"> <span class="pull-right">(32)</span>Ronhill</a></li>
                                <li><a href="#"> <span class="pull-right">(5)</span>Oddmolly</a></li>
                                <li><a href="#"> <span class="pull-right">(9)</span>Boudestijn</a></li>
                                <li><a href="#"> <span class="pull-right">(4)</span>Rösch creative culture</a></li>
                            </ul>
                        </div>
                    </div>
                    <!--/brands_products-->

                    <div class="price-range">
                        <!--price-range-->
                        <h2>Price Range</h2>
                        <div class="well text-center">
                            <input type="text" class="span2" value="" data-slider-min="0"
                                   data-slider-max="100000000" data-slider-step="100000"
                                   data-slider-value="[0,100000000]" id="sl2"><br/>
                            <b class="pull-left">0 vnđ</b> <b class="pull-right">100.000.000 vnđ</b>
                        </div>
                    </div>
                    <!--/price-range-->
                </div>
            </div>

            <div class="col-sm-10 padding-right">
                <div class="recommended_items">
                    <!--recommended_items-->
                    <h2 class="title text-center">Giảm giá sốc</h2>

                    <div id="recommended-item-carousel" class="carousel slide" data-ride="carousel">
                        <div class="carousel-inner">
                            <th:block th:each="key:${#numbers.sequence( 1, (4*(list_sale.size/4)<list_sale.size ? (list_sale.size/4)+1:list_sale.size/4), 1)}">
                                <div th:if="${key == 1}" class="item active">
                                    <!---->
                                    <div th:each="p, key2:${list_sale}" th:if="${key2.count<=4}">
                                        <div th:replace="~{common/list_product :: p_sale}"></div>
                                    </div>
                                    <!---->
                                </div>
                                <div th:if="${key > 1}" class="item">
                                    <!---->
                                    <div th:each="p, key2:${list_sale}" th:if="${key2.count<=4*key} and ${key2.count> ((4*key)-4)}">
                                        <div th:replace="~{common/list_product :: p_sale}"></div>
                                    </div>
                                    <!---->
                                </div>
                            </th:block>
                        </div>
                        <a class="left recommended-item-control" href="#recommended-item-carousel"
                           data-slide="prev">
                            <i class="fa fa-angle-left"></i>
                        </a>
                        <a class="right recommended-item-control" href="#recommended-item-carousel"
                           data-slide="next">
                            <i class="fa fa-angle-right"></i>
                        </a>
                    </div>
                </div>
                <!--/recommended_items-->

                <div class="features_items">
                    <!--features_items-->
                    <h2 class="title text-center">Máy tính xách tay</h2>
                    <div th:each="p, key: ${list_product}">
                        <div th:if="${p.getTypeOfItem() == 1} and ${key.count <=12}">
                            <div th:replace="~{common/list_product :: products}"></div>
                        </div>
                    </div>
                </div>

                <div class="features_items">
                    <!--features_items-->
                    <h2 class="title text-center">Máy tính - PC</h2>
                    <div th:each="p, key: ${list_product}">
                        <div th:if="${p.getTypeOfItem() == 57}">
                            <div th:replace="~{common/list_product :: products}"></div>
                        </div>
                    </div>
                </div>
                <!-- Màn hình -->

                <div class="features_items">
                    <!--features_items-->
                    <h2 class="title text-center">Màn hình</h2>
                    <div th:each="p, key: ${list_product}">
                        <div th:if="${p.getTypeOfItem() == 76} and ${key.count <=12}">
                            <div th:replace="~{common/list_product :: products}"></div>
                        </div>
                    </div>
                </div>
                <!--features_items-->

                <div class="category-tab">
                    <!--category-tab-->
                    <div class="col-sm-12">
                        <ul class="nav nav-tabs">
                            <li class="active"><a href="#tshirt" data-toggle="tab">T-Shirt</a></li>
                            <li><a href="#blazers" data-toggle="tab">Blazers</a></li>
                            <li><a href="#sunglass" data-toggle="tab">Sunglass</a></li>
                            <li><a href="#kids" data-toggle="tab">Kids</a></li>
                            <li><a href="#poloshirt" data-toggle="tab">Polo shirt</a></li>
                        </ul>
                    </div>
                    <div class="tab-content">
                        <div class="tab-pane fade active in" id="tshirt">
                            <div class="col-sm-3">
                                <div class="product-image-wrapper">
                                    <div class="single-products">
                                        <div class="productinfo text-center">
                                            <!--												<img src="images/home/gallery1.jpg" alt="" />-->
                                            <h2>$56</h2>
                                            <p>Easy Polo Black Edition</p>
                                            <a href="#" class="btn btn-default add-to-cart"><i
                                                    class="fa fa-shopping-cart"></i>Add to cart</a>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="product-image-wrapper">
                                    <div class="single-products">
                                        <div class="productinfo text-center">
                                            <!--												<img src="images/home/gallery2.jpg" alt="" />-->
                                            <h2>$56</h2>
                                            <p>Easy Polo Black Edition</p>
                                            <a href="#" class="btn btn-default add-to-cart"><i
                                                    class="fa fa-shopping-cart"></i>Add to cart</a>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="product-image-wrapper">
                                    <div class="single-products">
                                        <div class="productinfo text-center">
                                            <!--												<img src="images/home/gallery3.jpg" alt="" />-->
                                            <h2>$56</h2>
                                            <p>Easy Polo Black Edition</p>
                                            <a href="#" class="btn btn-default add-to-cart"><i
                                                    class="fa fa-shopping-cart"></i>Add to cart</a>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="product-image-wrapper">
                                    <div class="single-products">
                                        <div class="productinfo text-center">
                                            <!--												<img src="images/home/gallery4.jpg" alt="" />-->
                                            <h2>$56</h2>
                                            <p>Easy Polo Black Edition</p>
                                            <a href="#" class="btn btn-default add-to-cart"><i
                                                    class="fa fa-shopping-cart"></i>Add to cart</a>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane fade" id="blazers">
                            <div class="col-sm-3">
                                <div class="product-image-wrapper">
                                    <div class="single-products">
                                        <div class="productinfo text-center">
                                            <!--												<img src="images/home/gallery4.jpg" alt="" />-->
                                            <h2>$56</h2>
                                            <p>Easy Polo Black Edition</p>
                                            <a href="#" class="btn btn-default add-to-cart"><i
                                                    class="fa fa-shopping-cart"></i>Add to cart</a>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="product-image-wrapper">
                                    <div class="single-products">
                                        <div class="productinfo text-center">
                                            <!--												<img src="images/home/gallery3.jpg" alt="" />-->
                                            <h2>$56</h2>
                                            <p>Easy Polo Black Edition</p>
                                            <a href="#" class="btn btn-default add-to-cart"><i
                                                    class="fa fa-shopping-cart"></i>Add to cart</a>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="product-image-wrapper">
                                    <div class="single-products">
                                        <div class="productinfo text-center">
                                            <!--												<img src="images/home/gallery2.jpg" alt="" />-->
                                            <h2>$56</h2>
                                            <p>Easy Polo Black Edition</p>
                                            <a href="#" class="btn btn-default add-to-cart"><i
                                                    class="fa fa-shopping-cart"></i>Add to cart</a>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="product-image-wrapper">
                                    <div class="single-products">
                                        <div class="productinfo text-center">
                                            <!--												<img src="images/home/gallery1.jpg" alt="" />-->
                                            <h2>$56</h2>
                                            <p>Easy Polo Black Edition</p>
                                            <a href="#" class="btn btn-default add-to-cart"><i
                                                    class="fa fa-shopping-cart"></i>Add to cart</a>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane fade" id="sunglass">
                            <div class="col-sm-3">
                                <div class="product-image-wrapper">
                                    <div class="single-products">
                                        <div class="productinfo text-center">
                                            <!--												<img src="images/home/gallery3.jpg" alt="" />-->
                                            <h2>$56</h2>
                                            <p>Easy Polo Black Edition</p>
                                            <a href="#" class="btn btn-default add-to-cart"><i
                                                    class="fa fa-shopping-cart"></i>Add to cart</a>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="product-image-wrapper">
                                    <div class="single-products">
                                        <div class="productinfo text-center">
                                            <!--												<img src="images/home/gallery4.jpg" alt="" />-->
                                            <h2>$56</h2>
                                            <p>Easy Polo Black Edition</p>
                                            <a href="#" class="btn btn-default add-to-cart"><i
                                                    class="fa fa-shopping-cart"></i>Add to cart</a>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="product-image-wrapper">
                                    <div class="single-products">
                                        <div class="productinfo text-center">
                                            <!--												<img src="images/home/gallery1.jpg" alt="" />-->
                                            <h2>$56</h2>
                                            <p>Easy Polo Black Edition</p>
                                            <a href="#" class="btn btn-default add-to-cart"><i
                                                    class="fa fa-shopping-cart"></i>Add to cart</a>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="product-image-wrapper">
                                    <div class="single-products">
                                        <div class="productinfo text-center">
                                            <!--												<img src="images/home/gallery2.jpg" alt="" />-->
                                            <h2>$56</h2>
                                            <p>Easy Polo Black Edition</p>
                                            <a href="#" class="btn btn-default add-to-cart"><i
                                                    class="fa fa-shopping-cart"></i>Add to cart</a>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane fade" id="kids">
                            <div class="col-sm-3">
                                <div class="product-image-wrapper">
                                    <div class="single-products">
                                        <div class="productinfo text-center">
                                            <!--												<img src="images/home/gallery1.jpg" alt="" />-->
                                            <h2>$56</h2>
                                            <p>Easy Polo Black Edition</p>
                                            <a href="#" class="btn btn-default add-to-cart"><i
                                                    class="fa fa-shopping-cart"></i>Add to cart</a>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="product-image-wrapper">
                                    <div class="single-products">
                                        <div class="productinfo text-center">
                                            <!--												<img src="images/home/gallery2.jpg" alt="" />-->
                                            <h2>$56</h2>
                                            <p>Easy Polo Black Edition</p>
                                            <a href="#" class="btn btn-default add-to-cart"><i
                                                    class="fa fa-shopping-cart"></i>Add to cart</a>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="product-image-wrapper">
                                    <div class="single-products">
                                        <div class="productinfo text-center">
                                            <!--												<img src="images/home/gallery3.jpg" alt="" />-->
                                            <h2>$56</h2>
                                            <p>Easy Polo Black Edition</p>
                                            <a href="#" class="btn btn-default add-to-cart"><i
                                                    class="fa fa-shopping-cart"></i>Add to cart</a>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="product-image-wrapper">
                                    <div class="single-products">
                                        <div class="productinfo text-center">
                                            <!--												<img src="images/home/gallery4.jpg" alt="" />-->
                                            <h2>$56</h2>
                                            <p>Easy Polo Black Edition</p>
                                            <a href="#" class="btn btn-default add-to-cart"><i
                                                    class="fa fa-shopping-cart"></i>Add to cart</a>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane fade" id="poloshirt">
                            <div class="col-sm-3">
                                <div class="product-image-wrapper">
                                    <div class="single-products">
                                        <div class="productinfo text-center">
                                            <!--												<img src="images/home/gallery2.jpg" alt="" />-->
                                            <h2>$56</h2>
                                            <p>Easy Polo Black Edition</p>
                                            <a href="#" class="btn btn-default add-to-cart"><i
                                                    class="fa fa-shopping-cart"></i>Add to cart</a>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="product-image-wrapper">
                                    <div class="single-products">
                                        <div class="productinfo text-center">
                                            <!--												<img src="images/home/gallery4.jpg" alt="" />-->
                                            <h2>$56</h2>
                                            <p>Easy Polo Black Edition</p>
                                            <a href="#" class="btn btn-default add-to-cart"><i
                                                    class="fa fa-shopping-cart"></i>Add to cart</a>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="product-image-wrapper">
                                    <div class="single-products">
                                        <div class="productinfo text-center">
                                            <!--												<img src="images/home/gallery3.jpg" alt="" />-->
                                            <h2>$56</h2>
                                            <p>Easy Polo Black Edition</p>
                                            <a href="#" class="btn btn-default add-to-cart"><i
                                                    class="fa fa-shopping-cart"></i>Add to cart</a>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="product-image-wrapper">
                                    <div class="single-products">
                                        <div class="productinfo text-center">
                                            <!--												<img src="images/home/gallery1.jpg" alt="" />-->
                                            <h2>$56</h2>
                                            <p>Easy Polo Black Edition</p>
                                            <a href="#" class="btn btn-default add-to-cart"><i
                                                    class="fa fa-shopping-cart"></i>Add to cart</a>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<<<<<<< HEAD

<!--/Footer-->
<div th:replace="~{common/footer :: footers}"></div>
<!--/Footer-->

<script th:src="@{/user-st/js/jquery.js}"></script>
<script th:src="@{/user-st/js/price-range.js}"></script>
<script th:src="@{/user-st/js/jquery.scrollUp.min.js}"></script>
<script th:src="@{/user-st/js/bootstrap.min.js}"></script>
<script th:src="@{/user-st/js/jquery.prettyPhoto.js}"></script>
<script th:src="@{/user-st/js/main.js}"></script>
</body>

</html>
=======
<div id="compare">

</div>

    <!--<div th:replace="~{common/footer :: footers}"></div>-->


    <script th:src="@{/user-st/js/jquery.js}"></script>
    <script th:src="@{/user-st/js/price-range.js}"></script>
    <script th:src="@{/user-st/js/jquery.scrollUp.min.js}"></script>
    <script th:src="@{/user-st/js/bootstrap.min.js}"></script>
    <script th:src="@{/user-st/js/jquery.prettyPhoto.js}"></script>
    <script th:src="@{/user-st/js/main.js}"></script>
    <script type="text/javascript">

        let type_of_item = 0;

        let list_compare = [];

        //Thêm vào so sánh
        function addCompareProduct(id) {
            $.ajax({
                type: "Get",
                url: "/add-compare",
                data: {'id': id},
                success: function (data) {
                    console.log(data);
                    getCompareProduct();
                },
                error: function () {
                    alert("Lỗi rồi")
                }
            });
        }


        //Gọi danh sách so sánh
        function getCompareProduct() {
            $.ajax({
                type: "Get",
                url: "/get-compare",
                success: function (data) {
                    list_compare = data;
                    console.log(data);
                    type_of_item = data[0]?.typeOfItem != null ? data[0]?.typeOfItem : 0;
                    let list_product = '';
                    for (let i = 0; i < data.length; i++) {
                        if (data[i] != null) {
                            list_product = list_product + `
                        <div class="col-1-compare col-sm-5">
                            <div class="col-sm-6 d-flex">
                            <img class="col-sm-10 align-self-center p" id="p${i + 1}"
                                 src="/user-st/images/product/${data[i]?.id}.jpg"
                                 alt="">
                            <i class="fa fa-times-circle" onclick="remove('p${i + 1}')"></i>
                        </div>
                        <div class="col-sm-6 p" id="p${i + 1}_dt">
                            <h5>${data[i]?.name}</h5>
                            <p style="color: red;">${(data[i]?.outputPrice - data[i]?.outputPrice * data[i]?.saleProduct?.promotion / 100).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".")} đ</p>
                            <s>${data[i]?.outputPrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".")} đ</s>
                            </div>
                        </div>`;
                        } else {
                            list_product = list_product +
                                `<div class="col-sm-5" id="p2_compare">
                                <div class="col-sm-12 d-flex">
                                    <button class="btn" onclick="showBoxSearch()">Thêm so sánh</button>
                                </div>
                            </div>`
                        }
                    }

                    //
                    let html =
                        `<nav role="navigation" id="nav-compare" class="navbar navbar-white navbar-embossed navbar-lg navbar-fixed-top d-compera">
                <i onclick="closeCompare()" class="fa fa-times col-sm-1 float-right"></i>
                <div class="col-sm-11 float-right">
                    <div class="d-content">
                        ${list_product}
                        <div class="col-sm-2">
                            <a class="btn btn-primary" href="/compare">So sánh ngay</a>
                            <br>
                            <a onclick="removeAllCompare()" style="cursor: pointer;">Xóa tất cả sản phẩm</a>
                        </div>
                    </div>
                </div>
            </nav>`;
                    $('#compare').html('');
                    $('#compare').append(html);
                },
                error: function () {
                    alert("Lỗi rồi")
                }
            })
        }


        const compareNow = () => {
            let img, td_pducer, td_name, td_color, td_cpu, td_hard, td_cam, td_vga, td_mass,
                td_redate, td_hdh, td_pow, td_scanf, td_bpanel, td_contrast, td_retime,
                td_vsreen, td_dsize,td_sratio, td_bright, td_bh, td_pk;
            for (let i = 0; i < list_compare.length; i++) {
                img += `
                    <div class="col-sm-6 d-flex">
                        <img class="col-sm-11 align-self-center" src="/user-st/images/product/${list_compare[i]?.id}.jpg" alt="">
                        <i class="fa fa-times-circle"></i>
                    </div>`;
                td_pducer += `<td>${list_compare[i]?.productsDetail.producer}</td>`;
            }
            let body = `
            <div class=" category-tab shop-details-tab">
                <h4>So sánh</h4>
                <div class="col-sm-11 float-right">
                    ${img}
                </div>
                <table class="table">
                    <tbody class="compare-tab">

                    </tbody>
                </table>
            </div>`
            $('#body_modal_compare').append(body);
        }

        const remove = (id) => {
            $.ajax({
                type: "Get",
                url: "/remove-compare",
                data: {'key': id},
                success: function (data) {
                    console.log(data);
                    getCompareProduct();
                    $('#compare_button').attr("disabled", true);
                },
                error: function () {
                    alert("Lỗi rồi")
                }
            })
        }

        //Thêm vào so sánh
        function findByNameAndType(name, type) {
            $.ajax({
                type: "Get",
                url: "/find-by",
                data: {'name': name, 'type': type},
                success: function (data) {
                    console.log(data);
                    let tcontent = '';
                    for (let i = 0; i < data.length; i++) {
                        tcontent += `
                            <tr>
                                <th class="col-sm-3">
                                    <img class="col-sm-12 align-self-center p" id="p1"
                                        src="/user-st/images/product/${data[i]?.id}.jpg"
                                        alt="">
                                </th>
                                <th class="col-sm-6">
                                    <h5>${data[i]?.name}</h5>
                                    <p style="color: red;">${(data[i]?.outputPrice - data[i]?.outputPrice * data[i]?.saleProduct?.promotion / 100).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".")} đ</p>
                                </th>
                                <th class="col-sm-3">
                                    <a style="cursor: pointer" onclick="addCompareProduct('${data[i]?.id}')">Thêm so sánh</a>
                                </th>
                            </tr>`;
                        console.log(``)
                    }
                    $('#searchProducts').html('');
                    $('#searchProducts').append(tcontent);
                },
                error: function () {
                    alert("Lỗi rồi")
                }
            });
        }

        const removeAllCompare = () => {
            remove("p1");
            remove("p2");
            type_of_item = 0;
        }

        const closeCompare = () => {
            document.getElementById('nav-compare').style.animation = 'change_height_default ease .3s forwards';
        }

        const onfocusHandler = () => {
            document.getElementById('nav-compare').style.animation = 'change_height_max ease .3s forwards';
            findByNameAndType('', type_of_item);
        }

        const showBoxSearch = () => {
            $('#p2_compare').html('');
            $('#p2_compare').append(`
				<div class="col-sm-12 d-flex">
					<input class="col-sm-2 form-control" id="search-p-compare" onfocus="onfocusHandler()" oninput="onchangSearch()" type="text" placeholder="Search">
					<button class="col-sm-2 btn" onclick="cancelBoxSearch()">Hủy</button>
				</div>
                <table class="table">
                    <thead class="thead-light" id="searchProducts">

                    </thead>
                    <tbody id="searchProducts">

                    </tbody>
                </table>`);
        }

        const cancelBoxSearch = () => {
            $('#p2_compare').html('');
            document.getElementById('nav-compare').style.animation = 'change_height_min ease .3s forwards';
            $('#p2_compare').append(`<button class="btn" onclick="showBoxSearch()">Thêm so sánh</button>`);
        }


        const onchangSearch = () => {
            let name = $('#search-p-compare').val();
            findByNameAndType(name, type_of_item);
        }

    </script>
</body>
>>>>>>> main
