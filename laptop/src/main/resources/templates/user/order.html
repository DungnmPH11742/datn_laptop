<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Shop | E-Shopper</title>
    <link th:href="@{/user-st/css/bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{/user-st/css/font-awesome.min.css}" rel="stylesheet">
    <link th:href="@{/user-st/css/prettyPhoto.css}" rel="stylesheet">
    <link th:href="@{/user-st/css/price-range.css}" rel="stylesheet">
    <link th:href="@{/user-st/css/animate.css}" rel="stylesheet">
    <link th:href="@{/user-st/css/main.css}" rel="stylesheet">
    <link th:href="@{/user-st/css/responsive.css}" rel="stylesheet">

    <link th:href="@{/user-st/css/order.css}" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css"
        integrity="sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!--[if lt IE 9]>
    <script th:src="@{/user-st/js/html5shiv.js}"></script>
    <script th:src="@{/user-st/js/respond.min.js}"></script>
    <![endif]-->
<!--    <link rel="shortcut icon" href="images/ico/favicon.ico">-->
<!--    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="images/ico/apple-touch-icon-144-precomposed.png">-->
<!--    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="images/ico/apple-touch-icon-114-precomposed.png">-->
<!--    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="images/ico/apple-touch-icon-72-precomposed.png">-->
<!--    <link rel="apple-touch-icon-precomposed" href="images/ico/apple-touch-icon-57-precomposed.png">-->

    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"> -->
</head>
<!--/head-->

<body>
    <!--header-->
    <div th:replace="~{common/header :: headers}"></div>
    <!--/header-->

    <main id="main" class="main-order">
        <section class="container clearfix">
            <div>
                <div>
                    <ul class="breadcrumb pb-8 flex items-center space-x-2">
                        <li class="breadcrumb-item home">
                            <a href="#" class="nuxt-link-active" itemprop="item">Trang chủ</a>
                        </li>
                        <li class="breadcrumb-item font-semibold text-sm active">
                            <a href="#" aria-current="page" class="text-black flex items-center nuxt-link-exact-active nuxt-link-active" itemprop="item">
                                Đơn hàng
                            </a>
                        </li>
                    </ul>
                </div>

                <section class="clearfix">
                    <div class="account-information">
                        <div class="account-information_left">
                            <ul class="menu-nav">
                                <li>
                                    <a href="#" class="link-account">
                                        <i class="far fa-user-circle"></i>
                                        <span>Tài Khoản</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="link-account">
                                        <i class="far fa-heart"></i>
                                        <span>Sản phẩm yêu thích</span>
                                    </a>
                                </li>
                                <li class="active">
                                    <a href="#" class="link-account">
                                        <i class="fas fa-list"></i>
                                        <span>Đơn hàng của tôi</span>
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <div class="order-user-history">
                            <div class="history-order">
                                <div class="header-history-order">
                                    <h2 class="title_cate">
                                        <span>Đơn hàng của tôi</span>
                                    </h2>
                                </div>
                                <div class="list-status">
                                    <a th:href="@{/list-order}" class="link-status active" th:if="${(param.status==null)}">Tất cả</a>
                                    <a th:href="@{/list-order}" class="link-status" th:if="${(param.status!=null)}">Tất cả</a>
                                    <a th:href="@{/list-order(status=1)}" class="link-status" th:if="${#httpServletRequest.getParameter('status')!='1'}">Đang giao </a>
                                    <a th:href="@{/list-order(status=1)}" class="link-status active" th:if="${#httpServletRequest.getParameter('status')=='1'}">Đang giao </a>
                                    <a th:href="@{/list-order(status=2)}" class="link-status" th:if="${#httpServletRequest.getParameter('status')!='2'}">Đã giao</a>
                                    <a th:href="@{/list-order(status=2)}" class="link-status active" th:if="${#httpServletRequest.getParameter('status')=='2'}">Đã giao</a>
                                    <a th:href="@{/list-order(status=3)}" class="link-status" th:if="${#httpServletRequest.getParameter('status')!='3'}">Đã nhận hàng</a>
                                    <a th:href="@{/list-order(status=3)}" class="link-status active" th:if="${#httpServletRequest.getParameter('status')=='3'}">Đã nhận hàng</a>
                                    <a th:href="@{/list-order(status=-1)}" class="link-status" th:if="${#httpServletRequest.getParameter('status')!='-1'}">Đã hủy</a>
                                    <a th:href="@{/list-order(status=-1)}" class="link-status active" th:if="${#httpServletRequest.getParameter('status')=='-1'}">Đã hủy</a>
                                </div>
                                <div class="title-total-order">
                                    <p>Tổng giá trị <strong>20.000.000 đ/2</strong> đơn hàng</p>
                                </div>
                        
                                <div class="table-history-order">
                                    <table class="table table-default">
                                        <thead>
                                            <tr>
                                                <th><strong>Đơn hàng</strong></th>
                                                <th><strong>Thời gian mua</strong></th>
                                                <th><strong>Sản phẩm</strong></th>
                                                <th class="th-status" th:if="${(param.status==null)}"><span class="order-stt" >Tất cả</span></th>
                                                <th class="th-status" th:if="${#httpServletRequest.getParameter('status')=='1'}"><span class="order-stt" >Đang giao</span></th>
                                                <th class="th-status" th:if="${#httpServletRequest.getParameter('status')=='2'}"><span class="order-stt" >Đã giao</span></th>
                                                <th class="th-status" th:if="${#httpServletRequest.getParameter('status')=='3'}"><span class="order-stt" >Đã nhận hàng</span></th>
                                                <th class="th-status" th:if="${#httpServletRequest.getParameter('status')=='-1'}"><span class="order-stt" >Hủy hàng</span></th>
                                            </tr>
                                        </thead>
                                        <tbody >
                                        <th:block th:each="item:${listOrder}">
                                            <!--Product number one-->
                                            <tr>
                                                <td th:text="${item.getOrderCode()}"></td>
                                                <td th:text="${item.getOrderDate()}"></td>
                                                <td colspan="2" >
                                                    <div class="product-my-order" th:each="orderDetail:${item.getOrderDetails()}">
                                                        <div class="info-product">
                                                            <div class="img-product">
                                                                <img src="./images/product/17zd90p-g.ax71a5.png"  alt="" width="100%">
                                                            </div>
                                                            <div class="product-detail">
                                                                <div class="name-product">
<!--                                                                    ${orderDetail.getProducts().getName()}-->
                                                                    <b th:text="${orderDetail.getProducts().getName()}"></b>
                                                                </div>
                                                                <div class="more-detail-product">
<!--                                                                    +${orderDetail.getProducts().getCategory().getName()}-->
                                                                    <div class="phan-loai" th:text="'Phân loại: '+${orderDetail.getProducts().getCategory().getName()}"></div>
                                                                    <div class="quantity-detail" th:text="'x'+${orderDetail.getQuantity()}"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <span class="pro-price" th:text="${#numbers.formatDecimal(orderDetail.getPrice(), 1, 'DEFAULT', 0, 'DEFAULT')}+' đ'"></span>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="4">
                                                    <div class="total-price-order">
                                                        Tổng tiền: <span th:text="${#numbers.formatDecimal(item.getPriceOrder(), 1, 'DEFAULT', 0, 'DEFAULT')}+' đ'"></span>
                                                    </div>
                                                    <div class="group-btn-order">
                                                        <a class="btn btn-cancel-order" type="button" href="#">Hủy hàng</a>
                                                        <a class="btn btn-buy-again" type="button" href="#">Mua lại</a>
                                                        <a class="btn btn-order-detail" type="button" href="#">Chi tiết đơn hàng</a>
                                                    </div>
                                                </td>
                                            </tr>
                                            <!--End product number one-->
                                        </th:block>
                                        </tbody>
                        
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    
                </section>
            </div>
        </section>
    </main>


    <!--/Footer-->
    <div th:replace="~{common/footer :: footers}"></div>
    <!--/Footer-->
    <script th:src="@{/user-st/js/jquery.js}"></script>
    <script th:src="@{/user-st/js/price-range.js}"></script>
    <script th:src="@{/user-st/js/jquery.scrollUp.min.js}"></script>
    <script th:src="@{/user-st/js/bootstrap.min.js}"></script>
    <script th:src="@{/user-st/js/jquery.prettyPhoto.js}"></script>
    <script th:src="@{/user-st/js/main.js}"></script>
    <script>
        /*$('.link-status').on('click',function (){
            if ($('.link-status').hasClass('active')){
                $('.link-status').removeClass('active');
                $(this).addClass('active');
            }
        })*/
    </script>
</body>

</html>